/*!
 * @copyright Copyright &copy; Kartik Visweswaran, Krajee.com, 2014 - 2021
 * @package yii2-editors
 * @version 1.0.1
 *
 * Krajee Codemirror jQuery plugin
 */
(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else{if(typeof module==='object'&&module.exports){module.exports=factory(require('jquery'));}else{factory(window.jQuery);}}}(function($){'use strict';var KvCodemirror;KvCodemirror=function(element,options){var self=this;self.$element=$(element);self.options=options;self.init();};KvCodemirror.prototype={constructor:KvCodemirror,init:function(){var self=this;self.editor=CodeMirror.fromTextArea(self.$element[0],self.options);self.disabled=self.$element.attr('disabled');self.initToolbar();},initToolbar:function(){var self=this,editor=self.editor,$container=self.$element.closest('.kv-cm-container'),$toolbar=$container.find('.kv-cm-toolbar'),commentSelection=function(range,isComment){editor.commentRange(isComment,range.from,range.to);};if(self.disabled){return;}
$toolbar.find('[data-tooltips]').tooltip({trigger:'hover'});$toolbar.find('button').on('click',function(){var $btn=$(this),range={from:editor.getCursor(true),to:editor.getCursor(false)},noSelection=range.from===range.to,action=$btn.attr('data-action');switch(action){case'undo':editor.undo();break;case'redo':editor.redo();break;case'selectall':editor.execCommand('selectAll');break;case'fullscreen':if($container.hasClass('fullscreen')){$container.removeClass('fullscreen');$btn.removeClass('active');}else{$container.addClass('fullscreen');$btn.addClass('active');}
break;default:if(noSelection&&action!=='paste'){break;}
switch(action){case'copy':case'cut':case'paste':if(action!=='paste'){var $tmp=$(document.createElement('textarea')).appendTo('body').css({height:'1px',width:'1px'});$tmp.val(editor.getSelection());$tmp[0].select();document.execCommand('copy');$tmp.remove();}else{navigator.clipboard.readText().then(function(text){editor.getDoc().replaceSelection(text);}).catch(function(err){window.console.log('Unable to read clipboard contents.',err);});}
if(action==='cut'){editor.getDoc().replaceSelection('');}
break;case'indent':editor.execCommand('indentMore');break;case'outdent':editor.execCommand('indentLess');break;case'comment':commentSelection(range,true);break;case'format':editor.autoFormatRange(range.from,range.to);break;case'uncomment':commentSelection(range,false);break;}}});},save:function(){var self=this;self.editor.save();},destroy:function(){var self=this;self.editor.toTextArea();self.editor=null;}};$.fn.kvCodemirror=function(option){var args=Array.apply(null,arguments),retvals=[];args.shift();this.each(function(){var self=$(this),data=self.data('kvCodemirror'),options=typeof option==='object'&&option,opt;if(!data){opt=$.extend(true,{},$.fn.kvCodemirror.defaults,options,self.data());data=new KvCodemirror(this,opt);self.data('kvCodemirror',data);}
if(typeof option==='string'){retvals.push(data[option].apply(data,args));}});switch(retvals.length){case 0:return this;case 1:return retvals[0];default:return retvals;}};$.fn.kvCodemirror.defaults={};}));;/*!
 * @copyright Copyright &copy; Kartik Visweswaran, Krajee.com, 2014 - 2021
 * @package yii2-editors
 * @version 1.0.1
 *
 * Krajee jQuery Plugin enhancements to Summernote Editor
 */
(function(factory){'use strict';if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else{if(typeof module==='object'&&module.exports){module.exports=factory(require('jquery'));}else{factory(window.jQuery);}}}(function($){'use strict';var KvSummernote=function(element,options){var self=this;self.$element=$(element);self.options=options;self.customOptions=$.extend(true,{},options.customOptions);delete(self.options.customOptions);self.init();};KvSummernote.prototype={constructor:KvSummernote,init:function(){var self=this,$el=self.$element,opts=self.customOptions,$form=$el.closest('form'),initVal=$el.val();if(opts.enableHintEmojis){self.initEmojis();}
if(opts.autoFormatCode){$el.off('summernote.codeview.toggled').on('summernote.codeview.toggled',function(){self.formatCode();});}
if($form&&$form.length){$form.on('reset',function(){$el.summernote('reset');$el.summernote('code',initVal);});}
$el.summernote(self.options);},destroy:function(){var self=this;self.$element.summernote('destroy');},formatCode:function(){var self=this,$code=self.$element.next().find('textarea.note-codable'),editor,totalLines,totalChars;if($code.length){editor=$code.data('cmEditor');if(editor){totalLines=editor.lineCount();totalChars=editor.getTextArea().value.length;editor.autoFormatRange({line:0,ch:0},{line:totalLines,ch:totalChars});}}},initEmojis:function(){if(window.kvEmojis&&window.kvEmojisUrls){return;}
$.ajax({url:'https://api.github.com/emojis',async:false}).then(function(data){window.kvEmojis=Object.keys(data);window.kvEmojiUrls=data;});}};$.fn.kvSummernote=function(option){var args=Array.apply(null,arguments),retvals=[];args.shift();this.each(function(){var self=$(this),data=self.data('kvSummernote'),options=typeof option==='object'&&option,opt;if(!data){opt=$.extend(true,{},$.fn.kvSummernote.defaults,options,self.data());data=new KvSummernote(this,opt);self.data('kvSummernote',data);}
if(typeof option==='string'){retvals.push(data[option].apply(data,args));}});switch(retvals.length){case 0:return this;case 1:return retvals[0];default:return retvals;}};$.fn.kvSummernote.defaults={enableHintEmojis:true,autoFormatCode:true};$.fn.kvSummernote.Constructor=KvSummernote;}));;